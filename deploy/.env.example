# 后端配置

# 监听地址
ANZUIMG_SERVER_ADDR=:8080

# 数据库
# 主机地址 (Docker部署通常填 db)
ANZUIMG_DB_HOST=db
ANZUIMG_DB_PORT=5432
ANZUIMG_DB_USER=anzuuser
ANZUIMG_DB_PASSWORD=anzupass
ANZUIMG_DB_NAME=anzuimg
# SSL模式: disable, require, verify-full
ANZUIMG_DB_SSLMODE=disable

# 存储
# 类型: local / cloud
ANZUIMG_STORAGE_TYPE=local
# 本地存储路径
ANZUIMG_STORAGE_BASE=/data/images

# S3云存储配置 (当 TYPE=cloud 时生效)
ANZUIMG_CLOUD_ENDPOINT=s3.amazonaws.com
ANZUIMG_CLOUD_BUCKET=anzuimg-bucket
ANZUIMG_CLOUD_REGION=us-east-1
ANZUIMG_CLOUD_ACCESS_KEY=
ANZUIMG_CLOUD_SECRET_KEY=
ANZUIMG_CLOUD_USE_SSL=true

# 网络/安全
# 允许跨域的源 (前端访问地址)
ANZUIMG_ALLOWED_ORIGINS=http://localhost:9200
# 信任代理网段 ，用于获取真实IP
ANZUIMG_TRUSTED_PROXIES=127.0.0.1,::1,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16
# 初始化设置Token ，留空则不校验
ANZUIMG_SETUP_TOKEN=
# Cookie SameSite策略 (Lax/Strict)
ANZUIMG_COOKIE_SAMESITE=Lax
# 严格Session IP绑定
ANZUIMG_STRICT_SESSION_IP=false

# --- Passkey (WebAuthn) ---
ANZUIMG_PASSKEY_RP_ID=localhost
# 浏览器访问的完整URL
ANZUIMG_PASSKEY_RP_ORIGIN=http://localhost:9200
ANZUIMG_PASSKEY_RP_DISPLAY_NAME=AnzuImg

# 上传限制
# 单次请求最大体积 (MB)
ANZUIMG_MAX_UPLOAD_MB=110
# 单个文件最大体积 (MB)
ANZUIMG_MAX_UPLOAD_FILE_MB=60
# 单词请求最大文件数
ANZUIMG_MAX_UPLOAD_FILES=20

# 前端配置
# 后端API地址
BACKEND_URL=http://backend:8080

# 前端子路径部署
# 例：/clannd/ （建议以 / 结尾）
APP_BASE_URL=/clannd/

# API 前缀（默认 /korori）
# 例：/korori
# 置空或 / 表示不加前缀（外部 API 直接为 /api/v1/...）
API_PREFIX=/korori
